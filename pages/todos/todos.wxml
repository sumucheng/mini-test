<!--pages/test/test.wxml-->

<view wx:for="{{todoListByTag}}" wx:for-item="items" wx:key="tag" class="tag">
  <view class="tagTitle">
    <text>{{items.tag}}</text>
    <view bindtap="addTodoItem" id="{{items.tag}}" class="addTodoItem">+</view>
  </view>
  <view bindtap="toggle" wx:for="{{items.data}}" wx:for-item="item" wx:key="id" class="todoItem {{item.completed&&'completed'}}" id="{{item.id}}">
    <view  class="toggleButton">
      <icon wx:if="{{item.completed}}" type="success"></icon>
    </view>
    <text>{{item.value}}</text>
  </view>
</view>
<button bindtap="addTag">+</button>

<dialog placeholder="待办名称" visible="{{displayAddTodoItem}}" bindconfirm="comfirmAddTodo" bindcancel="cancelAddTodo"></dialog>

<dialog placeholder="标签名称" visible="{{displayAddTag}}" bindconfirm="comfirmAddTag" bindcancel="cancelAddTag"></dialog>